let dptosLocs={Artigas:["Artigas","Bella Unión"],Canelones:["Canelones","Santa Lucía"],Montevideo:["Montevideo"],Salto:["Salto","Daymán","Arapey"]},foo=document.forms.myFrm,form=document.getElementById("form"),localidad=document.getElementById("localidad"),departamento=document.getElementById("departamento"),departamentos=Object.keys(dptosLocs);for(let e=0;e<departamentos.length;e++){let t=departamentos[e],o=document.createElement("option");o.text=t,o.value=t,form.departamento.appendChild(o)}for(let e=0;e<departamentos.length;e++){let t=dptosLocs[departamentos[e]];for(let e=0;e<t.length;e++){let o=t[e],n=document.createElement("option");n.text=o,n.value=o,form.localidad.appendChild(n)}}const nombre=document.getElementById("nombre"),email=document.getElementById("email"),apellido=document.getElementById("apellido"),cedula=document.getElementById("ci"),checkbox=document.getElementById("cbox");function showError(e,t){const o=e.parentElement;o.className="form-control error";o.querySelector("small").innerText=t,e.addEventListener("focus",(function(){o.className="form-control"}))}function showSucces(e){e.parentElement.className="form-control success"}function checkEmail(e){/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value.trim())?showSucces(e):showError(e,"Email no es valido")}function checkRequired(e){e.forEach((function(e){""===e.value.trim()?showError(e,`${getFieldName(e)} es requerido`):showSucces(e)}))}function checkLength(e,t,o){e.value.length<t?showError(e,`${getFieldName(e)} debe de contener ${t} caracteres`):e.value.length>o?showError(e,`${getFieldName(e)} debe de contener ${o} caracteres`):showSucces(e)}function getFieldName(e){return e.id.charAt(0).toUpperCase()+e.id.slice(1)}function validarCedula(e){if(""===e.value)return!1;for(var t=new Array(2,9,8,7,6,3,4,1),o=0,n=parseInt(t.length-e.value.length),a=e.value.length-1;a>-1;a--){var r=e.value.substring(a,a+1);o+=parseInt(r)*t[a+n],console.log(o)}return result=!1,showError(e,"Cédula no válida"),o%10==0&&(result=!0,showSucces(e)),result}function validarcheckBox(e){console.log(e),e.checked?showSucces(e):showError(e,"Debes de aceptar los terminos y condiciones")}form.addEventListener("submit",(function(e){e.preventDefault(),checkRequired([nombre,email,apellido,cedula]),checkLength(nombre,3,15),checkLength(apellido,6,25),checkEmail(email),validarCedula(cedula),validarcheckBox(checkbox)}));